{"version":3,"file":"web.js","sourceRoot":"","sources":["../../src/web.ts"],"names":[],"mappings":"AAAA,OAAO,EAAwB,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAGlE,MAAM,OAAO,cAAe,SAAQ,SAAS;IAE3C,WAAW,CACT,SAAiB,EACjB,YAA+B;QAE/B,OAAO,CAAC,GAAG,CAAC,iBAAiB,SAAS,SAAS,CAAC,CAAC;QAEjD,MAAM,aAAa,GAAG,KAAK,CAAC,WAAW,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,CAAC,gBAAgB;QAElF,MAAM,MAAM,GAAyB;YACnC,MAAM,EAAE,KAAK,IAAI,EAAE;gBACjB,MAAM,cAAc,GAAG,MAAM,aAAa,CAAC;gBAC3C,MAAM,cAAc,CAAC,MAAM,EAAE,CAAC;YAChC,CAAC;SACF,CAAC;QACF,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,UAAU;QACN,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,aAAa,EAAG,CAAC,CAAC;IACtD,CAAC;IAED,KAAK,CAAC,UAAU;QACd,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvB,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC,CAAC;IAC1C,CAAC;IACD,UAAU;QACR,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACxB,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;IAC/C,CAAC;IACD,YAAY;QACV,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QAC7B,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;IAChD,CAAC;IACD,KAAK,CAAC,cAAc;QAClB,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC,CAAC;IACnD,CAAC;IACD,aAAa,CAAC,OAA8B;QAC1C,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QAChC,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC,CAAC;IACnD,CAAC;IACD,gBAAgB,CAAC,OAA8B;QAC7C,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;QACnC,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC,CAAC;IACtD,CAAC;IACD,YAAY,CAAC,OAA8B;QACzC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QAC/B,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC,CAAC;IACnD,CAAC;IACD,gBAAgB;QACd,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAC1B,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC;IACjD,CAAC;IACD,KAAK,CAAC,IAAI,CAAC,OAA0B;QACnC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAC7B,OAAO,OAAO,CAAC;IACjB,CAAC;CACF","sourcesContent":["import { PluginListenerHandle, WebPlugin } from '@capacitor/core';\nimport type { FlicButtonPlugin } from './definitions';\n\nexport class FlickButtonWeb extends WebPlugin implements FlicButtonPlugin {\n  \n  addListener<T = any>(\n    eventName: string,\n    listenerFunc: (data: T) => void\n  ): PluginListenerHandle { // ✅ Now returns PluginListenerHandle instead of Promise\n    console.log(`Listening for ${eventName} on web`);\n\n    const handlePromise = super.addListener(eventName, listenerFunc); // ✅ Don't await\n\n    const handle: PluginListenerHandle = {\n      remove: async () => {\n        const resolvedHandle = await handlePromise;\n        await resolvedHandle.remove();\n      }\n    };\n    return handle;\n  }\n\n  initialize(): Promise<{ value: string; }> {\n      return Promise.resolve({ value: \"INITIALIZED\"  });\n  }\n\n  async getButtons(): Promise<{ buttons: { buttonId: string; name: string; state: number; }[]; }> {\n    console.log('BUTTONS');\n    return Promise.resolve({ buttons: [] });\n  }\n  isScanning(): Promise<{ isScanning: boolean; }> {\n    console.log('SCANNING');\n    return Promise.resolve({ isScanning: true });\n  }\n  stopScanning(): Promise<{ isScanning: boolean; }> {\n    console.log('STOP SCANNING');\n    return Promise.resolve({ isScanning: false });\n  }\n  async scanForButtons(): Promise<{ message: string; }>{\n    return Promise.resolve({ message: 'Connected' });\n  }\n  connectButton(options: { buttonId: string; }): Promise<{ message: string; }> {\n    console.log('CONNECT', options);\n    return Promise.resolve({ message: 'Connected' });\n  }\n  disconnectButton(options: { buttonId: string; }): Promise<{ message: string; }> {\n    console.log('DISCONNECT', options);\n    return Promise.resolve({ message: 'Disconnected' });\n  }\n  forgetButton(options: { buttonId: string; }): Promise<{ message: string; }> {\n    console.log('FORGET', options);\n    return Promise.resolve({ message: 'Forgotten' });\n  }\n  removeAllButtons(): Promise<{ message: string; }> {\n    console.log('REMOVE ALL');\n    return Promise.resolve({ message: 'Removed' });\n  }\n  async echo(options: { value: string }): Promise<{ value: string }> {\n    console.log('ECHO', options);\n    return options;\n  }\n}\n"]}